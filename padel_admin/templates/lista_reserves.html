<!DOCTYPE html>
{% load static %}
<html lang="es">
  <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>Gamerinha Padel Club</title>
      <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.16/dist/tailwind.min.css" rel="stylesheet">
      <link href="{% static 'jugadors_styles.css' %}" rel="stylesheet">
      <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.7/css/all.css">
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.4.0/semantic.min.css" integrity="sha512-8bHTC73gkZ7rZ7vpqUQThUDhqcNFyYi2xgDgPDHc+GXVGHXq+xPjynxIopALmOPqzo9JZj0k6OqqewdGO3EsrQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />
  </head>
  <body class="bg-gray-100">
      <header>
          <nav class="bg-gray-300">
              <div class="mx-auto px-4 sm:px-6 lg:px-8">
                <div class="flex justify-between h-16">
                  <div class="flex items-center">
                    <img src="{% static 'logo2.png' %}">
                  </div>
                  <div class="flex items-center">
                    <a href="/reserves" class="text-gray-800 hover:text-black px-4 py-2 rounded-md text-lg font-medium">Reserves</a>
                    <a href="/jugadors" class="text-gray-800 hover:text-black px-4 py-2 rounded-md text-lg font-medium">Jugadors</a>
                    <a href="/cobraments" class="text-gray-800 hover:text-black px-4 py-2 rounded-md text-lg font-medium">Cobraments</a>
                    <a href="/" class="text-gray-800 hover:text-black px-4 py-2 text-xl"><i class="fas fa-sign-out-alt"></i></a>                  
                  </div>
                </div>
              </div>
            </nav>          
      </header>
      <div class="container mx-auto px-4 py-8">
        <h1 class="text-4xl font-bold mb-4">Reserves</h1>
        
        <div class="flex items-center mb-10">
          <!-- FILTRO DE DATA -->
          <form class="mb-4">
            <label for="fecha" class="mr-2">Data:</label>
            <input type="date" id="fecha" name="fecha" required class="border border-gray-300 rounded px-2 py-1 mr-2" value="{{ day }}">
            <button type="submit" class="ui primary button">Filtrar</button>
          </form>
          <!-- FILTRO DE JUGADOR -->
          <form method="GET" action="{% url 'lista_reserves' %}" class="mb-4 ml-5" style="width: 30vw;">
            <div class="ui fluid action input">
              <input type="text" name="search" placeholder="Buscar per jugador..." value="{% if search_query %}{{ search_query }}{% endif %}">
              <button type="submit" class="ui button"><i class="fas fa-search"></i></button>
            </div>
          </form>
        </div>
    
        <!-- RESERVES -->
        {% if reserves %}
        <div class="flex justify-center mx-auto my-5 mt-10" style="width: 90%;">
          <table class="ui very basic celled table">
            <thead>
              <tr class="text-center">
                <th>Pista</th>
                <th>Tipus</th>
                <th>Inici</th>
                <th>Finalitzaci√≥</th>
                <th>Jugador</th>
                <th>Cobrament</th>
                <th>Eliminar</th>
              </tr>
            </thead>
            <tbody>
              {% for reserva in reserves %}
              <tr class="text-center">
                <td>{{ reserva.pista.numero }}</td>
                <td>{{ reserva.pista.tipus }}</td>
                <td>{{ reserva.horaInici }}</td>
                <td>{{ reserva.horaFinalitzacio }}</td>
                <td>{{ reserva.jugador.nom }} {{ reserva.jugador.cognom }}</td>
                <td><a class="ui button"><i class="fas fa-dollar-sign"></i></a></td>
                <td><a class="ui button eliminar-jugador"><i class="fas fa-trash"></i></a></td>
              </tr>
              {% endfor %}
            </tbody>
          </table>
        </div>
        {% else %}
        <p>No hay reservas disponibles.</p>
        {% endif %}
      </div>  
  </body>
</html>
